<!doctype html>
<html lang="en" dir="ltr" class="blog-wrapper blog-post-page plugin-blog plugin-id-default">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.1">
<link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="Hadmean RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="Hadmean Atom Feed"><title data-rh="true">Why you should write more integration tests. | Hadmean</title><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://hadmean.com/blog/2022/11/28/why-you-should-write-more-integrations-tests"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docusaurus_tag" content="default"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docsearch:docusaurus_tag" content="default"><meta data-rh="true" property="og:title" content="Why you should write more integration tests. | Hadmean"><meta data-rh="true" name="description" content="Banner"><meta data-rh="true" property="og:description" content="Banner"><meta data-rh="true" property="og:type" content="article"><meta data-rh="true" property="article:published_time" content="2022-11-28T00:00:00.000Z"><meta data-rh="true" property="article:author" content="https://github.com/thrownullexception"><meta data-rh="true" property="article:tag" content="testing"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://hadmean.com/blog/2022/11/28/why-you-should-write-more-integrations-tests"><link data-rh="true" rel="alternate" href="https://hadmean.com/blog/2022/11/28/why-you-should-write-more-integrations-tests" hreflang="en"><link data-rh="true" rel="alternate" href="https://hadmean.com/blog/2022/11/28/why-you-should-write-more-integrations-tests" hreflang="x-default"><link rel="stylesheet" href="/assets/css/styles.99c9de46.css">
<link rel="preload" href="/assets/js/runtime~main.ebc808d3.js" as="script">
<link rel="preload" href="/assets/js/main.edba6363.js" as="script">
</head>
<body class="navigation-with-keyboard" data-theme="light">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region"><a href="#" class="skipToContent_fXgn">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.png" alt="Hadmean Logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/img/logo.png" alt="Hadmean Logo" class="themedImage_ToTc themedImage--dark_i4oU"></div></a><a class="navbar__item navbar__link" href="/docs/intro">Documentation</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/blog">Blog</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/hadmean/hadmean" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><a href="https://discord.gg/aV6DxwXhzN" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Discord<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"><div class="dsla-search-wrapper"><div class="dsla-search-field" data-tags="default,docs-default-current"></div></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper mainWrapper_z2l0"><div class="container margin-vert--lg"><div class="row"><aside class="col col--3"><nav class="sidebar_re4s thin-scrollbar" aria-label="Blog recent posts navigation"><div class="sidebarItemTitle_pO2u margin-bottom--md">Recent posts</div><ul class="sidebarItemList_Yudw clean-list"><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2022/12/09/how-to-generate-a-powerful-admin-app-from-your-database">How to generate a powerful admin app from your database</a></li><li class="sidebarItem__DBe"><a aria-current="page" class="sidebarItemLink_mo7H sidebarItemLinkActive_I1ZP" href="/blog/2022/11/28/why-you-should-write-more-integrations-tests">Why you should write more integration tests.</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2022/10/06/crud-under-59-seconds">Build a CRUD interface for your database in under 59 seconds</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2022/10/05/introduction">Hadmean - Introducing the easiest, most efficient internal tool generator.</a></li></ul></nav></aside><main class="col col--7" itemscope="" itemtype="http://schema.org/Blog"><article itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><header><h1 class="title_f1Hy" itemprop="headline">Why you should write more integration tests.</h1><div class="container_mt6G margin-vert--md"><time datetime="2022-11-28T00:00:00.000Z" itemprop="datePublished">November 28, 2022</time> Â· <!-- -->5 min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="https://github.com/thrownullexception" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo" src="https://github.com/thrownullexception.png" alt="Ayobami Akingbade"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://github.com/thrownullexception" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">Ayobami Akingbade</span></a></div><small class="avatar__subtitle" itemprop="description">Creator of Hadmean</small></div></div></div></div></header><div id="post-content" class="markdown" itemprop="articleBody"><p><img loading="lazy" alt="Banner" src="/assets/images/banner-3fd4e8c7fabf580a47e9a48ca0d5768b.png" width="8244" height="2752" class="img_ev3q"></p><p>After writing software, engineers usually have to write tests for whatever reason they have but major write three types.</p><ol><li>Unit tests.
This are mostly Isolation tests i.e you take a part of the software and you isolate it and write a test for it. Isolation means that piece of software usually a function or component does not interact with other parts of the system. This isolation makes it very easy to write tests are you good control of the component making it very easy for you to have it in a desired state and test that state and also very easy to get the expected state and assert that. and another benefit is that it they are very easy to run as they are usually lightweights so usually run under seconds</li><li>End to End Tests.
End to End(E2E) tests are tests that are writting usually in the way a user will use the application. These tests are meant to be agnostic of the internal workings of the application. Infact they can be writing in another langauge different from the one the application is written in.
End to End needless to say gives the greatest confidence as they actually test the flow of the user in the way an actually user will use them.</li><li>Integration Tests.
Integration tests are tests that test the interactions between two or more components of the software i.e you are test that yes these components are working seperately but do they communicate with each other correctly</li></ol><p>Developers usually get confused on what Integration tests are. Writing a test for a function though it calls other function is not an integration test even though it has some integration as this is still a unit test</p><p>Integration tests are tests that have a high level of abstraction over implementation detail</p><p>For example</p><ol><li>A good integration test for the BE will be to setup the application to take in a route and the method and it should do something and that something is asserted by calling another route to check the effects. A bad way of doing this is to instead call the controller and mock the services and that the end check that the services are called correctly instead</li><li>For the FE a good integration test will be to take a page component or a large component and render with not passing any props and instead get the page to the desired state by mocking the API requests using a tool like MSW and interacting with the application clicking on button and asserting desired UI effects</li></ol><p>So why should you write more Integrations test over the others. Integrations tests basically averages the good and bad part of unit tests and E2E tests </p><ol><li>You can easily achieve desired state
Primarily E2E tests in my un-popular opinion is what you should strive for the most but the major pain point of E2E tests is the ability to acheive desired state. Let say you want to test the application for a user that is under the age of 35, male, Arabian and is christian. This conditions are very easy to achieve with Unit tests as you can easily pass the desired state as props and test the application as you see fit.
But this is a pain point with E2E tests so really have to options.</li><li>You seed the application database with the desired state which is almost un-scalable as you will have to HardCode the userId in the tests or you use the E2E suites to get the application to the desired state before actually starting to test cases
But with Integration tests you can easily set the state in the test suite though you will not be as nimble as unit-test but it will be way more easier than with a E2E test. </li></ol><ol start="2"><li><p>It is relatively lightweight.
One big problem with e2e tests is that they are bulky, Like you will first need to setup the application itself i.e proviion database, run migrations, run seeds, start the application, start the frontend. Wait for both of them to be up, launch other services needed, fire up a browser then start the test cases.
But wuth</p></li><li><p>Less flaky.
Because of the </p></li></ol><ol start="3"><li>It brings good enough confidences
This is the major problem with most unit tests being that they are mostly implementation details, like they follow you components parameters around and they usually have to be updated the component changes during a refactor without any changes to the functionality</li></ol><p>Nothing in software are hard rules, this articles doesn&#x27;t say scrape your e2e tests, or unit tests but rather try to see if you can test the case with an integration test, if the case is too complex i.e too many if-elses then you can abstract that to a function and unit-test that. And it is considered good practice to have e2e tests for critical flows in your application. like</p><ul><li>User can register</li><li>User can login</li><li>User can add product to cart</li><li>User can checkout
Basically things that are primary to your business function should be test e2e and others should be test with integrations.</li></ul></div><footer class="row docusaurus-mt-lg blogPostFooterDetailsFull_mRVl"><div class="col"><b>Tags:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/blog/tags/testing">testing</a></li></ul></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Blog post page navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/blog/2022/12/09/how-to-generate-a-powerful-admin-app-from-your-database"><div class="pagination-nav__sublabel">Newer Post</div><div class="pagination-nav__label">How to generate a powerful admin app from your database</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/blog/2022/10/06/crud-under-59-seconds"><div class="pagination-nav__sublabel">Older Post</div><div class="pagination-nav__label">Build a CRUD interface for your database in under 59 seconds</div></a></nav></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/docs/intro">Tutorial</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://stackoverflow.com/questions/tagged/hadmean" target="_blank" rel="noopener noreferrer" class="footer__link-item">Stack Overflow<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://discord.gg/aV6DxwXhzN" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://twitter.com/hadmeanHQ" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/hadmean/hadmean" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright Â© 2023 Hadmean, Inc. Built with Docusaurus.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.ebc808d3.js"></script>
<script src="/assets/js/main.edba6363.js"></script>
</body>
</html>